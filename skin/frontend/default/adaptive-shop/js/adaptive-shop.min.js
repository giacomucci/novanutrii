jQuery(document).ready(function($){function submenuCols(){$(".submenu").each(function(){var li=$(this).find("li");if(li.parent().is("div")&&$(".submenu > .lists").find("li").unwrap(),$(window).width()>768&&$(this).hasClass("cols")){var cols=$(this).data("cols");$(window).width()<880&&4==cols?li.splitListMany(3):li.splitListMany(cols)}})}function resetCollapse(){$(".content").removeAttr("style"),$(".dropdown").removeClass("collapse-active")}$.fn.extend({splitListMany:function(cols){var list=$(this),listLen=$(this).length,colSize,columns;colSize=listLen%(columns=null==cols||cols<=0||columns>=listLen?2:cols>=listLen/2?Math.floor(listLen/2):cols)>0?Math.ceil(listLen/columns):listLen/columns;for(var i=1;i<=columns;i++)list.slice((i-1)*colSize,i*colSize).wrapAll('<div class="lists list-'+i+'">');return $(this)}}),submenuCols();var collapseMenu=function menuCollapse(){return $(".dropdown .label").on("click",function(e){var menuContent=$(this).siblings(".content"),closestDropdown=$(this).closest(".dropdown");menuContent.length&&(e.preventDefault(),closestDropdown.hasClass("collapse-active")?(closestDropdown.removeClass("collapse-active"),menuContent.slideUp()):(closestDropdown.addClass("collapse-active"),$(".dropdown").not(closestDropdown).removeClass("collapse-active"),$(".content").slideUp(),menuContent.slideDown()))}),$(window).width()>=768&&(resetCollapse(),$("body").removeClass("nav-open")),menuCollapse}(),submenuWidth=function submenuWidth(element){return $(window).width()>=768?$(".submenu").not(".not-resize").each(function(){$(this).width(0);var itemLi=$(this).find("li"),itemList,listsWidth=0;$(this).find(".lists").each(function(index){listsWidth+=parseInt($(this).width(),10)});var maxLiWidth=Math.max.apply(null,itemLi.map(function(){return $(this).outerWidth(!0)}).get());$(this).hasClass("cols")?$(this).width(listsWidth+2):$(this).width(maxLiWidth)}):$(".submenu").not(".not-resize").width("auto"),submenuWidth}();function nutriiDropdown(element){this.element=element,this.mainNavigation=this.element.find(".main-nav"),this.mainNavigationItems=this.mainNavigation.find(".has-dropdown"),this.dropdownList=this.element.find(".dropdown-list"),this.dropdownWrappers=this.dropdownList.find(".dropdown"),this.dropdownItems=this.dropdownList.find(".content"),this.dropdownBg=this.dropdownList.find(".bg-layer"),this.mq=this.checkMq(),this.bindEvents()}$(window).on("resize",function(){submenuWidth(),submenuCols()}),$(document).on("click touch",".nav-trigger",function(event){event.preventDefault(),$("html").toggleClass("nav-open"),resetCollapse()}),nutriiDropdown.prototype.checkMq=function(){var self=this;return window.getComputedStyle(this.element.get(0),"::before").getPropertyValue("content").replace(/'/g,"").replace(/"/g,"").split(", ")},nutriiDropdown.prototype.bindEvents=function(){var self=this;this.mainNavigationItems.mouseenter(function(event){self.showDropdown($(this))}).mouseleave(function(){setTimeout(function(){0==self.mainNavigation.find(".has-dropdown:hover").length&&0==self.element.find(".dropdown-list:hover").length&&self.hideDropdown()},50)}),this.dropdownList.mouseleave(function(){setTimeout(function(){0==self.mainNavigation.find(".has-dropdown:hover").length&&0==self.element.find(".dropdown-list:hover").length&&self.hideDropdown()},50)}),this.mainNavigationItems.on("touchstart",function(event){var selectedDropdown=self.dropdownList.find("#"+$(this).data("content"));self.element.hasClass("is-dropdown-visible")&&selectedDropdown.hasClass("active")||(event.preventDefault(),self.showDropdown($(this)))})},nutriiDropdown.prototype.showDropdown=function(item){if(this.mq=this.checkMq(),"desktop"==this.mq){var self=this,selectedDropdown=this.dropdownList.find("#"+item.data("content")),selectedDropdownHeight=selectedDropdown.innerHeight(),selectedDropdownWidth=selectedDropdown.children(".content").innerWidth(),selectedDropdownLeft=item.hasClass("contact")?item.offset().left+item.outerWidth()-selectedDropdown.outerWidth():item.offset().left;this.updateDropdown(selectedDropdown,parseInt(selectedDropdownHeight),selectedDropdownWidth,parseInt(selectedDropdownLeft)),this.element.find(".active").removeClass("active"),selectedDropdown.addClass("active").removeClass("move-left move-right").prevAll().addClass("move-left").end().nextAll().addClass("move-right"),item.addClass("active"),this.element.hasClass("is-dropdown-visible")||setTimeout(function(){self.element.addClass("is-dropdown-visible")},10)}},nutriiDropdown.prototype.updateDropdown=function(dropdownItem,height,width,left){this.dropdownList.css({"-moz-transform":"translateX("+left+"px)","-webkit-transform":"translateX("+left+"px)","-ms-transform":"translateX("+left+"px)","-o-transform":"translateX("+left+"px)",transform:"translateX("+left+"px)",width:width+"px",height:height+"px"}),this.dropdownBg.css({"-moz-transform":"scaleX("+width+") scaleY("+height+")","-webkit-transform":"scaleX("+width+") scaleY("+height+")","-ms-transform":"scaleX("+width+") scaleY("+height+")","-o-transform":"scaleX("+width+") scaleY("+height+")",transform:"scaleX("+width+") scaleY("+height+")"})},nutriiDropdown.prototype.hideDropdown=function(){this.mq=this.checkMq(),"desktop"==this.mq&&this.element.removeClass("is-dropdown-visible").find(".active").removeClass("active").end().find(".move-left").removeClass("move-left").end().find(".move-right").removeClass("move-right")},nutriiDropdown.prototype.resetDropdown=function(){this.mq=this.checkMq(),"mobile"==this.mq&&this.dropdownList.removeAttr("style"),"desktop"==this.mq&&resetCollapse()};var nutriiDropdowns=[];if($(".cd-nutrii-dropdown").length>0){$(".cd-nutrii-dropdown").each(function(){nutriiDropdowns.push(new nutriiDropdown($(this)))});var resizing=!1,resizeTimer;function updateDropdownPosition(){nutriiDropdowns.forEach(function(element){element.resetDropdown()}),resizing=!1}updateDropdownPosition(),$(window).on("resize",function(){resizing||(resizing=!0,window.requestAnimationFrame?window.requestAnimationFrame(updateDropdownPosition):setTimeout(updateDropdownPosition,300))})}}),jQuery(document).ready(function($){jQuery(".question").click(function(event){jQuery(this).hasClass("active")?(jQuery(".answer").slideUp(),jQuery(".question").removeClass("active"),jQuery(this).removeClass("active")):(jQuery(".answer").slideUp(),jQuery(".question").removeClass("active"),jQuery(this).parents(".faq").find(".answer").slideDown(),jQuery(this).addClass("active"))})}),jQuery(document).ready(function(){var baseUrl=location.protocol+"//"+location.host,$containerLoginDesktop=jQuery("#login-desktop"),$containerLoginMobile=jQuery("#login-mobile"),anonymousUserTemplate="",authenticatedUserTemplate="",anonymousUserTemplateMobile="",authenticatedUserTemplateMobile="",$cartContainer=jQuery("#cart-desktop"),$cartList=jQuery("ul",$cartContainer),cartCounterTemplate="",cartTotalTemplate="",cartItemTemplate="";anonymousUserTemplate='<a href="{{ baseUrl }}/customer/account/login/">Login</a> | <a href="{{ baseUrl }}/customer/account/create/">Cadastro</a>',authenticatedUserTemplate='<a href="{{ baseUrl }}/customer/account/">Minha conta</a> | <a href="{{ baseUrl }}/customer/account/logout/">Sair</a>',anonymousUserTemplateMobile='<a href="{{ baseUrl }}/customer/account/login/">Login</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="{{ baseUrl }}/customer/account/create/">Cadastro</a>',authenticatedUserTemplateMobile='<a href="{{ baseUrl }}/customer/account/">Minha conta</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="{{ baseUrl }}/customer/account/logout/">Sair</a>',cartCounterTemplate+='<span class="cart">{{ items }}</span>',cartItemTemplate+='<li class="item">',cartItemTemplate+='    <img class="f-l radius" src="{{ productImage }}" width="50" height="50" alt="{{ productName }}">',cartItemTemplate+='    <a class="f-l" href="{{ productUrl }}">{{ productName }}</a>',cartItemTemplate+='    <span class="d-b f-l fs-14 cor-sec">{{ quantity }}x <span class="price">{{ price }}</span></span>',cartItemTemplate+='    <div class="icons">',cartItemTemplate+="        <a",cartItemTemplate+='            href="{{ deleteUrl }}" title="Excluir Este Item"',cartItemTemplate+='            onclick="return AEC.remove(this, dataLayer)"',cartItemTemplate+='            class="btn-remove trans opacity-1-5" data-id="{{ id }}"',cartItemTemplate+='            data-name="{{ productName }}"',cartItemTemplate+='            data-price="{{ price }}"',cartItemTemplate+='            data-category="{{ category }}"',cartItemTemplate+='            data-brand="{{ brand }}"',cartItemTemplate+='            data-quantity="{{ quantity }}"',cartItemTemplate+='            data-variant="{{ variant }}"',cartItemTemplate+='            data-event="removeFromCart"',cartItemTemplate+="        >X</a>",cartItemTemplate+="    </div>",cartItemTemplate+="</li>",cartTotalTemplate+='<li class="last">',cartTotalTemplate+='    <span class="f-l d-b cor">Subtotal: <span class="bold fs-14 cor"><span class="price">{{ grandTotal }}</span></span></span>',cartTotalTemplate+='    <button type="button" title="Fechar Pedido" class="f-r bt2 d-b cor-sec bold tt-u radius td-n" onclick="setLocation(\'{{ baseUrl }}/checkout/onepage/\')">Fechar Pedido</button>',cartTotalTemplate+='    <span><a class="f-r" href="{{ baseUrl }}/checkout/cart/" title="Editar carrinho">Editar carrinho</a></span>',cartTotalTemplate+="</li>";var render=function(template,data){var output=template;return jQuery.each(data,function(key,value){output=output.replace(new RegExp("{{ "+key+" }}","g"),value)}),jQuery(output)},updateUser=function(authenticated){$containerLoginDesktop.html(render(authenticated?authenticatedUserTemplate:anonymousUserTemplate,{baseUrl:baseUrl}))},updateUserMobile=function(authenticated){$containerLoginMobile.html(render(authenticated?authenticatedUserTemplateMobile:anonymousUserTemplateMobile,{baseUrl:baseUrl}))},updateFormKey=function(formKey){jQuery("form[action*=form_key]").each(function(){jQuery(this).attr("action",jQuery(this).attr("action").replace(/form_key\/([a-zA-Z0-9]+)/,"form_key/"+formKey))}),jQuery("input[name*=form_key]").each(function(){jQuery(this).attr("value",formKey)})},updateCart=function(cart){0!==cart.items.length&&($cartContainer.addClass("cart-item"),$cartList.attr("id","cart-sidebar"),$cartList.addClass("mini-products-list"),$cartList.empty(),jQuery.each(cart.items,function(key,item){$cartList.append(render(cartItemTemplate,{id:item.id,quantity:item.quantity,price:item.price,productName:item.name,productImage:item.productImage,productUrl:item.productUrl,deleteUrl:item.deleteUrl}))}),$cartList.append(render(cartTotalTemplate,{baseUrl:baseUrl,grandTotal:cart.grandTotal})),jQuery(".cart-item > a").addClass("full-cart").html(`<span class="itens-count">${cart.itemsCount}</span>`))};jQuery.getJSON(baseUrl+"/session.php",function(data){updateUser(data.isLoggedIn),updateUserMobile(data.isLoggedIn),updateFormKey(data.formKey),updateCart(data.cart)})});